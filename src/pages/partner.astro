---
import Layout from '../layouts/BlogPost.astro';

const partners = [
  {
    name: "Kim Chi-yum",
    image: "/partners/kimchiyum.jpg",
	minion: "Angel",
    effects: [
      "TECH +5",
      "Tadpole Pond B-tad Output +0.3%",
      "Angel Minion MAX +1",
      "Per 10 Koryeon Snails in battle: +100 Troop HP",
    ],
  },
  {
    name: "Big Gal Park",
    image: "/partners/biggalpark.jpg",
	minion: "Demon",
    effects: [
      "FAME +5",
      "Snail ATK +5",
      "Demon Minion MAX +1",
      "Per 10 Ironball Throwers in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Chichikaka",
    image: "/partners/chichikaka.jpg",
	minion: "Mutant",
    effects: [
      "CIV +5",
      "Snail ATK +5",
      "Mutant Minion MAX +1",
      "Per 10 Chikas in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Prince Nerd's Soul",
    image: "/partners/princenerdssoul.jpg",
	minion: "Zombie",
    effects: [
      "FTH +5",
      "Soul Offering SPD + 0.6%",
      "Zombie Minion MAX +1",
      "Per 10 Tomb Figures in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Jiro Toyato",
    image: "/partners/jirotoyato.jpg",
	minion: "Mecha",
    effects: [
      "FTH +5",
      "Free Gene Speedup (Mecha) +30s",
      "Mecha Minion MAX +1",
      "Per 10 Mechanics in battle: +100 Troop HP",
    ],
  },
  {
    name: "Leeku",
    image: "/partners/leeku.jpg",
	minion: "Angel",
    effects: [
      "ART +5",
      "Free Gene Speedup (Angel) +30s",
      "Angel Minion MAX +1",
      "Per 10 Stans in battle: +100 Troop HP",
    ],
  },
  {
    name: "Taoraemon",
    image: "/partners/taoraemon.jpg",
	minion: "Angel",
    effects: [
      "TECH +5",
      "All Gene Research SPD +1%",
      "Angel Minion MAX +1",
      "Per 10 Catcolytes in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Ghost Zadako",
    image: "/partners/ghostzadako.jpg",
	minion: "Zombie",
    effects: [
      "FAME +5",
      "Free Gene Speedup (Zombie) +30s",
      "Zombie Minion MAX +1",
      "Per 10 Wraiths in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Red Doe",
    image: "/partners/reddoe.jpg",
	minion: "Demon",
    effects: [
      "ART +5",
      "Free Gene Speedup (Mutant) +30s",
      "Demon Minion MAX +1",
      "Per 10 Nightmare Steeds in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Lee Gi-na",
    image: "/partners/leegina.jpg",
	minion: "Mutant",
    effects: [
      "CIV +5",
      "Time Machine Travel Speedup Output +1%",
      "Mutant Minion MAX +1",
      "Per 10 Minorinos in battle: +100 Troop HP",
    ],
  },
  {
    name: "Taoist Yu Ji",
    image: "/partners/taoistyuji.jpg",
	minion: "Dragon",
    effects: [
      "FTH +5",
      "Quarry Output +1%",
      "Dragon Minion MAX +1",
      "Per 10 Drawn Dragons in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Must-Not-Name",
    image: "/partners/mustnotname.jpg",
	minion: "Dragon",
    effects: [
      "FTH +5",
      "Free Gene Speedup (Demon) +30s",
      "Dragon Minion MAX +1",
      "Per 10 Frost Drakes in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Neandergal",
    image: "/partners/neandergal.jpg",
	minion: "Demon",
    effects: [
      "FAME +5",
      "Snail RUSH +5",
      "Demon Minion MAX +1",
      "Per 10 Beserkers in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Zhuge Liang",
    image: "/partners/zhugeliang.jpg",
	minion: "Mecha",
    effects: [
      "CIV +5",
      "Lumber Camp Output +1%",
      "Mecha Minion MAX +1",
      "Per 10 Wood Golems in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Sewer Turtle",
    image: "/partners/sewerturtle.jpg",
	minion: "Zombie",
    effects: [
      "FTH +5",
      "Zombie Minion Recovery SPD +0.3%",
      "Zombie Minion MAX +1",
      "Per 10 Undead Turtles in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Demon Chan-hee",
    image: "/partners/demonchanhee.jpg",
	minion: "Mutant",
    effects: [
      "FAME +5",
      "In Gene Sims, DMG +0.5%",
      "Mutant Minion MAX +1",
      "Per 10 Demonized Tentacles in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Snail Mech",
    image: "/partners/snailmech.jpg",
	minion: "Mecha",
    effects: [
      "TECH +5",
      "Wormhole refine time +60s",
      "Mecha Minion MAX +1",
      "Per 10 Snail Mechs in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Peter Jr.",
    image: "/partners/peterjr.jpg",
	minion: "Mecha",
    effects: [
      "TECH +5",
      "Mecha Minion Recovery SPD +0.3%",
      "Mecha Minion MAX +1",
      "Per 10 Keyboard Warriors in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Sleuth Doom",
    image: "/partners/sleuthdoom.jpg",
	minion: "Demon",
    effects: [
      "ART +5",
      "Demon Minion Recovery SPD +0.3%",
      "Demon Minion MAX +1",
      "Per 10 Imps in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Nito UR",
    image: "/partners/nitour.jpg",
	minion: "Zombie",
    effects: [
      "FTH +5",
      "Lottery Blue Orbs turn to Purple by +0.3%",
      "Zombie Minion MAX +1",
      "Per 10 Mummy Rs in battle: +100 Troop HP",
    ],
  },
  {
    name: "Mosasaur",
    image: "/partners/mosasaur.jpg",
	minion: "Dragon",
    effects: [
      "CIV +5",
      "Dragon Minion Recovery SPD +0.3%",
      "Dragon Minion MAX +1",
      "Per 10 Nanosaurs in battle: +10 Troop DEF",
    ],
  },
  {
    name: "Female Daemon",
    image: "/partners/femaledaemon.jpg",
	minion: "Mutant",
    effects: [
      "ART +5",
      "Mutant Minion Recovery SPD +0.3%",
      "Mutant Minion MAX +1",
      "Per 10 Little Monks in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Athena",
    image: "/partners/athena.jpg",
	minion: "Angel",
    effects: [
      "FAME +5",
      "Leadership +1",
	  "Angel Minion Recovery SPD +0.3%",
      "Angel Minion MAX +1",
      "Per 10 Sanctum Warriors in battle: +100 Troop HP",
    ],
  },
  {
    name: "Slug Dragon Tutor",
    image: "/partners/slugdragontutor.jpg",
	minion: "Dragon",
    effects: [
      "ART +5",
      "Free Gene Speedup (Dragon) +30s",
      "Dragon Minion MAX +1",
      "Per 10 Slug Dragonlings in battle: +10 Troop RUSH",
    ],
  },
  {
    name: "Babyeater",
    image: "/partners/babyeater.jpg",
	minion: "Zombie",
    effects: [
      "FTH +5",
      "In the Fissure, Maneater DMG +1%",
      "Zombie Minion MAX +1",
      "Per 10 Baby buds in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Washed-up Noble",
    image: "/partners/washedupnoble.jpg",
	minion: "Demon",
    effects: [
      "ART +5",
      "Special Tourist Like Bonus +1%",
      "Demon Minion MAX +1",
      "Per 10 Vampires in battle: +10 Troop ATK",
    ],
  },
  {
    name: "Divine Child",
    image: "/partners/divinechild.jpg",
	minion: "Angel",
    effects: [
      "FTH +5",
      "All Sanctum Glorium Output +0.3%",
      "Angel Minion MAX +1",
      "Per 10 Gaiastapo in battle: +100 Troop HP",
    ],
  },
  {
    name: "Rebel Mind",
    image: "/partners/rebelmind.jpg",
	minion: "Mecha",
    effects: [
      "TECH +5",
      "Wormhole refine time -60s",
      "Mecha Minion MAX +1",
      "Per 10 NeuroMechas in battle: +10 Troop DEF",
    ],
  },
];
---

<Layout
  title="Partner details"
  description="Description of all the in game partners"
  pubDate={new Date('July 05 2025')}
  heroImage="/partner.jpg"
>
  <header class="mb-10">
    <h1 class="text-3xl font-bold mb-2">Partner Bonuses</h1>
    <p class="text-gray-600 max-w-2xl">
      Each partner provides permanent bonuses and combat scaling effects.
      All bonuses increase <strong>per level up</strong>.
    </p>
  </header>

  <!-- FILTER UI -->
  <div class="filter-controls mb-6 flex flex-col sm:flex-row gap-4">
    <div>
      <label>
        Filter by minion:
        <select id="minionFilter" class="border rounded px-2 py-1">
          <option value="">All</option>
          <option value="Angel">Angel</option>
          <option value="Demon">Demon</option>
          <option value="Dragon">Dragon</option>
          <option value="Mecha">Mecha</option>
		  <option value="Mutant">Mutant</option>
		  <option value="Zombie">Zombie</option>
        </select>
      </label>
    </div>
    <div>
      <input type="text" id="partnerSearch" placeholder="Search partners..." class="border rounded px-2 py-1" />
    </div>
  </div>

  <!-- CARDS GRID -->
  <section id="partnersGrid" class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {partners.map((partner) => (
      <article
        class="partner-card"
        data-minion={partner.minion}>
        <div class="card-content">
          <h2 class="text-xl font-semibold mb-2">{partner.name}</h2>

          <!-- Per Level Up Section -->
          <div class="per-level-up mb-2">
            <strong>Per level up:</strong>
            <ul class="effect-list mb-2">
              {partner.effects.map((effect) => (
                <li class="effect-item">{effect}</li>
              ))}
            </ul>
          </div>
        </div>

        <div class="card-image">
          <img src={partner.image} alt={partner.name} />
        </div>
      </article>
    ))}
  </section>

  <!-- FILTER SCRIPT -->
  <script>
    const minionFilter = document.getElementById('minionFilter');
    const searchInput = document.getElementById('partnerSearch');
    const cards = document.querySelectorAll('#partnersGrid .partner-card');

    function filterCards() {
      const selectedMinion = minionFilter.value;
      const query = searchInput.value.toLowerCase();

      cards.forEach(card => {
        const minion = card.dataset.minion; // hidden, used for filtering
        const name = card.querySelector('h2').textContent.toLowerCase();
        const effects = card.querySelector('.effect-list').textContent.toLowerCase();

        const matchesMinion = !selectedMinion || minion === selectedMinion;
        const matchesQuery = !query || name.includes(query) || effects.includes(query);

        card.style.display = (matchesMinion && matchesQuery) ? '' : 'none';
      });
    }

    minionFilter.addEventListener('change', filterCards);
    searchInput.addEventListener('input', filterCards);
  </script>

</Layout>

<style>
.partner-card {
  display: flex;
  gap: 1rem;
  padding: 1.25rem;
  border-radius: 0.75rem;
  background: var(--card-bg, #ffffff);
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  align-items: flex-start;
  transition: transform 0.2s ease;
}

.partner-card:hover {
  transform: translateY(-2px);
}

.card-content {
  flex: 1;
}

.card-image {
  flex: 0 0 auto;
  display: flex;
  align-items: flex-start;
}

.card-image img {
  width: 140px;
  height: auto;
  object-fit: contain;
  border-radius: 0.5rem;
}

.per-level-up {
  background: #f9fafb;
  padding: 0.5rem;
  border-radius: 0.5rem;
  font-size: 0.9rem;
}

.per-level-up strong {
  display: block;
  margin-bottom: 0.25rem;
  color: #111827;
}

.effect-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.effect-item {
  font-size: 0.9rem;
  color: #3730a3;
}

/* Responsive layout */
@media (max-width: 768px) {
  .partner-card {
    flex-direction: column;
    align-items: flex-start;
  }

  .card-image img {
    width: 100%;
    height: auto;
    margin-top: 0.5rem;
  }
}
</style>